var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(o,l,t)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[l]=t;import{E as u,N as r,F as c,aJ as p,bK as d,m as f,H as i,aI as y,bl as v,co as m,q as b,M as C,C as O,V as B,cp as g,aj as j}from"./index.a60e422a.js";import{U as w}from"./event2.b9713b74.js";import{u as x}from"./index2.e4c48cdc.js";import{a as I}from"./el-overlay.319121f3.js";const h=u({center:{type:Boolean,default:!1},closeIcon:{type:r,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),D={close:()=>!0},F=u((S=((e,o)=>{for(var l in o||(o={}))a.call(o,l)&&s(e,l,o[l]);if(t)for(var l of t(o))n.call(o,l)&&s(e,l,o[l]);return e})({},h),P={appendToBody:{type:Boolean,default:!1},beforeClose:{type:c(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}},o(S,l(P))));var S,P;const A={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[w]:e=>p(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},k=(e,o)=>{const l=B().emit,{nextZIndex:t}=d();let a="";const n=x(),s=x(),u=f(!1),r=f(!1),c=f(!1),p=f(e.zIndex||t());let h,D;const F=i((()=>y(e.width)?`${e.width}px`:e.width)),S=v("namespace",m),P=i((()=>{const o={},l=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=F.value)),o}));function A(){null==D||D(),null==h||h(),e.openDelay&&e.openDelay>0?({stop:h}=g((()=>N()),e.openDelay)):N()}function k(){null==h||h(),null==D||D(),e.closeDelay&&e.closeDelay>0?({stop:D}=g((()=>z()),e.closeDelay)):z()}function E(){e.beforeClose?e.beforeClose((function(e){e||(r.value=!0,u.value=!1)})):k()}function N(){j&&(u.value=!0)}function z(){u.value=!1}return e.lockScroll&&I(u),b((()=>e.modelValue),(a=>{a?(r.value=!1,A(),c.value=!0,l("open"),p.value=e.zIndex?p.value++:t(),C((()=>{o.value&&(o.value.scrollTop=0)}))):u.value&&k()})),b((()=>e.fullscreen),(e=>{o.value&&(e?(a=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=a)})),O((()=>{e.modelValue&&(u.value=!0,c.value=!0,A())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(w,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){l("close")},handleClose:E,onModalClick:function(){e.closeOnClickModal&&E()},close:k,doClose:z,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&E()},titleId:n,bodyId:s,closed:r,style:P,rendered:c,visible:u,zIndex:p}};export{D as a,F as b,A as c,h as d,k as u};
