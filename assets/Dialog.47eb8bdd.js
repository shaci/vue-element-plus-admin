var e=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(s,o,a)=>o in s?e(s,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[o]=a,n=(e,s)=>{for(var o in s||(s={}))l.call(s,o)&&r(e,o,s[o]);if(a)for(var o of a(s))t.call(s,o)&&r(e,o,s[o]);return e},i=(e,a)=>s(e,o(a));import{d as c,B as d,H as f,o as u,c as p,e as m,z as b,n as g,a as y,t as v,g as h,w as x,v as k,Z as C,P as $,Y as _,a0 as w,ar as R,_ as j,cn as O,b1 as A,R as I,m as H,A as E,aF as F,aX as M,W as L,h as z,bL as P,a1 as D,a7 as T,bU as q,q as B,s as S,X as U,x as X,O as K,an as N,M as V}from"./index.a60e422a.js";import{u as W,b as Y,E as Z}from"./el-overlay.319121f3.js";import{d as G,a as J,b as Q,c as ee,u as se}from"./use-dialog2.179a96fb.js";import{u as oe}from"./index2.f3752faa.js";import{F as ae,e as le}from"./el-popper.fec8696f.js";import{c as te}from"./refs2.9f253559.js";import{u as re}from"./el-button.6b669fff.js";const ne=Symbol("dialogInjectionKey"),ie=["aria-label"],ce=["id"];var de=j(c(i(n({},{name:"ElDialogContent"}),{props:G,emits:J,setup(e){const s=e,{t:o}=oe(),{Close:a}=O,{dialogRef:l,headerRef:t,bodyId:r,ns:n,style:i}=d(ne),{focusTrapRef:c}=d(ae),j=te(c,l),A=f((()=>s.draggable));return W(l,t,A),(e,s)=>(u(),p("div",{ref:y(j),class:g([y(n).b(),y(n).is("fullscreen",e.fullscreen),y(n).is("draggable",y(A)),{[y(n).m("center")]:e.center},e.customClass]),style:w(y(i)),tabindex:"-1",onClick:s[1]||(s[1]=R((()=>{}),["stop"]))},[m("header",{ref_key:"headerRef",ref:t,class:g(y(n).e("header"))},[b(e.$slots,"header",{},(()=>[m("span",{role:"heading",class:g(y(n).e("title"))},v(e.title),3)])),e.showClose?(u(),p("button",{key:0,"aria-label":y(o)("el.dialog.close"),class:g(y(n).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[h(y($),{class:g(y(n).e("close"))},{default:x((()=>[(u(),k(C(e.closeIcon||y(a))))])),_:1},8,["class"])],10,ie)):_("v-if",!0)],2),m("div",{id:y(r),class:g(y(n).e("body"))},[b(e.$slots,"default")],10,ce),e.$slots.footer?(u(),p("footer",{key:0,class:g(y(n).e("footer"))},[b(e.$slots,"footer")],2)):_("v-if",!0)],6))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const fe=["aria-label","aria-labelledby","aria-describedby"];const ue=D(j(c(i(n({},{name:"ElDialog"}),{props:Q,emits:ee,setup(e,{expose:s}){const o=e,a=A();re({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},f((()=>!!a.title)));const l=I("dialog"),t=H(),r=H(),n=H(),{visible:i,titleId:c,bodyId:d,style:p,rendered:v,zIndex:C,afterEnter:$,afterLeave:R,beforeLeave:j,handleClose:O,onModalClick:D,onOpenAutoFocus:T,onCloseAutoFocus:q,onCloseRequested:B}=se(o,t);E(ne,{dialogRef:t,headerRef:r,bodyId:d,ns:l,rendered:v,style:p});const S=Y(D),U=f((()=>o.draggable&&!o.fullscreen));return s({visible:i,dialogContentRef:n}),(e,s)=>(u(),k(P,{to:"body",disabled:!e.appendToBody},[h(z,{name:"dialog-fade",onAfterEnter:y($),onAfterLeave:y(R),onBeforeLeave:y(j),persisted:""},{default:x((()=>[F(h(y(Z),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":y(C)},{default:x((()=>[m("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:y(c),"aria-describedby":y(d),class:g(`${y(l).namespace.value}-overlay-dialog`),onClick:s[0]||(s[0]=(...e)=>y(S).onClick&&y(S).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>y(S).onMousedown&&y(S).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>y(S).onMouseup&&y(S).onMouseup(...e))},[h(y(le),{loop:"",trapped:y(i),"focus-start-el":"container",onFocusAfterTrapped:y(T),onFocusAfterReleased:y(q),onReleaseRequested:y(B)},{default:x((()=>[y(v)?(u(),k(de,{key:0,ref_key:"dialogContentRef",ref:n,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:y(U),fullscreen:e.fullscreen,"show-close":e.showClose,style:w(y(p)),title:e.title,onClose:y(O)},L({header:x((()=>[e.$slots.title?b(e.$slots,"title",{key:1}):b(e.$slots,"header",{key:0,close:y(O),titleId:y(c),titleClass:y(l).e("title")})])),default:x((()=>[b(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:x((()=>[b(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):_("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,fe)])),_:3},8,["mask","overlay-class","z-index"]),[[M,y(i)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));const pe={class:"flex justify-between"},me=c({__name:"Dialog",props:{modelValue:T.bool.def(!1),title:T.string.def("Dialog"),fullscreen:T.bool.def(!0),maxHeight:T.oneOfType([String,Number]).def("500px")},setup(e){const s=e,o=A(),a=f((()=>{const e=["fullscreen","title","maxHeight"],o=N(),a=n(n({},o),s);for(const s in a)-1!==e.indexOf(s)&&delete a[s];return a})),l=H(!1),t=()=>{l.value=!y(l)},r=H(q(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight);B((()=>l.value),(async e=>{if(await V(),e){const e=document.documentElement.offsetHeight;r.value=e-55-60-(o.footer?63:0)+"px"}else r.value=q(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight}),{immediate:!0});const i=f((()=>({height:y(r)})));return(s,r)=>{const n=S("Icon");return u(),k(y(ue),U(y(a),{fullscreen:l.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1}),L({header:x((()=>[m("div",pe,[b(s.$slots,"title",{},(()=>[X(v(e.title),1)])),e.fullscreen?(u(),k(n,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px",icon:l.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:t},null,8,["icon"])):_("",!0)])])),default:x((()=>[h(y(K),{style:w(y(i))},{default:x((()=>[b(s.$slots,"default")])),_:3},8,["style"])])),_:2},[y(o).footer?{name:"footer",fn:x((()=>[b(s.$slots,"footer")]))}:void 0]),1040,["fullscreen"])}}});export{me as _};
