import{E as e,N as a,F as i,aJ as t,al as n,aI as s,d as l,P as c,ap as o,aK as d,H as r,R as u,U as v,m as h,S as f,q as p,aC as m,C as y,_ as b,M as k,aT as g,au as C,s as w,o as I,c as x,e as V,n as S,aq as T,v as B,w as _,Z as E,Y as N,t as P,$ as j,g as K,a0 as D,ar as q,a1 as F}from"./index.f17de39a.js";import{i as U}from"./validator2.0612a232.js";import{U as z,C as H,I as J}from"./event2.b9713b74.js";import{u as L,a as M}from"./index2.67b87174.js";const R=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:U},tabindex:{type:[String,Number]}}),Y=l({name:"ElSwitch",components:{ElIcon:c,Loading:o},props:R,emits:{[z]:e=>t(e)||n(e)||s(e),[H]:e=>t(e)||n(e)||s(e),[J]:e=>t(e)||n(e)||s(e)},setup(e,{emit:a}){const{formItem:i}=L(),n=d(r((()=>e.loading))),s=u("switch"),{inputId:l}=M(e,{formItemContext:i}),c=v(),o=h(!1!==e.modelValue),b=h(),w=h(),I=r((()=>[s.b(),s.m(c.value),s.is("disabled",n.value),s.is("checked",S.value)])),x=r((()=>({width:f(e.width)})));p((()=>e.modelValue),(()=>{o.value=!0})),p((()=>e.value),(()=>{o.value=!1}));const V=r((()=>o.value?e.modelValue:e.value)),S=r((()=>V.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(V.value)||(a(z,e.inactiveValue),a(H,e.inactiveValue),a(J,e.inactiveValue)),p(S,(()=>{var a;b.value.checked=S.value,(e.activeColor||e.inactiveColor)&&B(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>m())))}));const T=()=>{const i=S.value?e.inactiveValue:e.activeValue;a(z,i),a(H,i),a(J,i),k((()=>{b.value.checked=S.value}))},B=()=>{const a=S.value?e.activeColor:e.inactiveColor,i=w.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return y((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&B(),b.value.checked=S.value})),{ns:s,input:b,inputId:l,core:w,switchDisabled:n,checked:S,switchKls:I,coreStyle:x,handleChange:T,switchValue:()=>{if(n.value)return;const{beforeChange:a}=e;if(!a)return void T();const i=a();[g(i),t(i)].some((e=>e))||C("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),g(i)?i.then((e=>{e&&T()})).catch((e=>{})):i&&T()},focus:()=>{var e,a;null==(a=null==(e=b.value)?void 0:e.focus)||a.call(e)}}}}),Z=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex"],$=["aria-hidden"],A=["aria-hidden"],G=["aria-hidden"],O=["aria-hidden"];const Q=F(b(Y,[["render",function(e,a,i,t,n,s){const l=w("el-icon"),c=w("loading");return I(),x("div",{class:S(e.switchKls),onClick:a[2]||(a[2]=q(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[V("input",{id:e.inputId,ref:"input",class:S(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,tabindex:e.tabindex,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=T(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,42,Z),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?N("v-if",!0):(I(),x("span",{key:0,class:S([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(I(),B(l,{key:0},{default:_((()=>[(I(),B(E(e.inactiveIcon)))])),_:1})):N("v-if",!0),!e.inactiveIcon&&e.inactiveText?(I(),x("span",{key:1,"aria-hidden":e.checked},P(e.inactiveText),9,$)):N("v-if",!0)],2)),V("span",{ref:"core",class:S(e.ns.e("core")),style:D(e.coreStyle)},[e.inlinePrompt?(I(),x("div",{key:0,class:S(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(I(),x(j,{key:0},[e.activeIcon?(I(),B(l,{key:0,class:S([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:_((()=>[(I(),B(E(e.activeIcon)))])),_:1},8,["class"])):N("v-if",!0),e.inactiveIcon?(I(),B(l,{key:1,class:S([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:_((()=>[(I(),B(E(e.inactiveIcon)))])),_:1},8,["class"])):N("v-if",!0)],64)):e.activeText||e.inactiveIcon?(I(),x(j,{key:1},[e.activeText?(I(),x("span",{key:0,class:S([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},P(e.activeText.substring(0,3)),11,A)):N("v-if",!0),e.inactiveText?(I(),x("span",{key:1,class:S([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},P(e.inactiveText.substring(0,3)),11,G)):N("v-if",!0)],64)):N("v-if",!0)],2)):N("v-if",!0),V("div",{class:S(e.ns.e("action"))},[e.loading?(I(),B(l,{key:0,class:S(e.ns.is("loading"))},{default:_((()=>[K(c)])),_:1},8,["class"])):N("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?N("v-if",!0):(I(),x("span",{key:1,class:S([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(I(),B(l,{key:0},{default:_((()=>[(I(),B(E(e.activeIcon)))])),_:1})):N("v-if",!0),!e.activeIcon&&e.activeText?(I(),x("span",{key:1,"aria-hidden":!e.checked},P(e.activeText),9,O)):N("v-if",!0)],2))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{Q as E};
